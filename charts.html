<meta charset="UTF-8">
<style>
.clear {
	clear: both;
}
.rank {
	float:right;
	text-align: right;
	padding: 30px 20px 0 0;
}
#now-rank {
	color: #FFA500;
	font-size: 2.5em;
}
.main{
	margin: 0;
	width: 100%;
	height: 100%;
	font-size: 1.1em;
	font-family: "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", "DejaVu Sans", Verdana, sans-serif;
}
#chart-visitors {
	width: 100%;
	height: 320px;
}
.most-clicked-products, .top-visitors {
	margin:10px 0 0 25px;
	float:left;
}
.ranks table{
	margin:10px;
	border:0;
	border-collapse:collapse;
}
.ranks th{
	padding:10px;
	border-bottom:#5EABBF solid 2px;
}
.ranks td{
	padding:10px;
	border-bottom:#ccc solid 1px;
	text-align:center;
}
.ranks h3{
	margin:0;
}
.ranks img{
	height:40px;
}
.ranks .p{
	width: 50px;
	text-align:center;
}
.ranks .n{
	width: 150px;
	text-align:left;
}
.ranks .i{
	text-align:right;
}

</style>
<script type="text/javascript" src="http://www.amcharts.com/lib/3/amcharts.js"></script>
<script type="text/javascript" src="http://www.amcharts.com/lib/3/serial.js"></script>
<script type="text/javascript" src="http://www.amcharts.com/lib/3/themes/none.js"></script>
<div class="main">
	<div class="topic-info">
		<div class="rank">
			總點閱數:  <span id="now-rank">2112</span>  ( 本日<span id="total-votes">35</span> 點閱 )
		</div>
		<div class="clear"></div>
	</div>
	<div class="charts">
		<div id="chart-visitors"></div>
	</div>
	<div class="ranks">
		<div class="most-clicked-products">
			<h3>我的商品排行</h3>
			<table>
				<thead>
				<tr>
					<th>&nbsp;</th>
					<th>名稱</th>
					<th>價格</th>
					<th>目前排行</th>
					<th>點閱數</th>
					<th>本日點閱</th>
				</tr>
				</thead>
				<tr>
					<td class="p"><img src="images/Item02_01.jpg" /></td>
					<td class="n">「正」台灣蒜頭</td>
					<td>150/斤</td>
					<td class="i">21</td>
					<td class="i">433</td>
					<td class="i">8</td>
				</tr>
				<tr>
					<td class="p"><img src="images/Item02_02.jpg" /></td>
					<td class="n">屏東紅蔥頭</td>
					<td>25 /兩 </td>
					<td class="i">43</td>
					<td class="i">219</td>
					<td class="i">2</td>
				</tr>
				<tr>
					<td class="p"><img src="images/Item02_03.jpg" /></td>
					<td class="n">「正」台灣薑母</td>
					<td>來店詢價</td>
					<td class="i">181</td>
					<td class="i">109</td>
					<td class="i">1</td>
				</tr>
			</table>
		</div>
		<div class="top-visitors">
			<h3>來店客戶排行</h3>
			<table>
				<thead>
				<tr>
					<th>&nbsp;</th>
					<th>姓名</th>
					<th>總來店數</th>
					<th>總停留（分）</th>
					<th>平均停留（分）</th>
					<th>總排行</th>
				</tr>
				</thead>
				<tr>
					<td class="p"><img src="https://graph.facebook.com/100000148579580/picture?type=small" /></td>
					<td>韓建淳</td>
					<td>8</td>
					<td class="i">241</td>
					<td class="i">30</td>
					<td class="i">2</td>
				</tr>
				<tr>
					<td class="p"><img src="https://graph.facebook.com/ivan6888/picture?type=small" /></td>
					<td>彭明哲</td>
					<td>8</td>
					<td class="i">108</td>
					<td class="i">13.5</td>
					<td class="i">19</td>
				</tr>
				<tr>
					<td class="p"><img src="https://graph.facebook.com/yafat/picture?type=small" /></td>
					<td>葉臨軒</td>
					<td>7</td>
					<td class="i">49</td>
					<td class="i">7</td>
					<td class="i">191</td>
				</tr>
				<tr>
					<td class="p"><img src="https://graph.facebook.com/jack.mo.92/picture?type=small" /></td>
					<td>莫子侃</td>
					<td>6</td>
					<td class="i">46</td>
					<td class="i">7.8</td>
					<td class="i">178</td>
				</tr>
			</table>
		</div>
		<div class="clear"></div>
	</div>
</div>
<script language="javascript">
var chartData = generateChartData();
var chart = AmCharts.makeChart("chart-visitors", {
    "type": "serial",
    "theme": "none",
    "pathToImages": "http://www.amcharts.com/lib/3/images/",
    "dataProvider": chartData,
    "valueAxes": [{
        "axisAlpha": 0.2,
        "dashLength": 1,
        "position": "left"
    }],
    "mouseWheelZoomEnabled":true,
    "graphs": [{
        "id":"g1",
        "balloonText": "[[category]]<br /><b><span style='font-size:14px;'>value: [[value]]</span></b>",
        "bullet": "round",
        "bulletBorderAlpha": 1,
		"bulletColor":"#FFFFFF",
        "hideBulletsCount": 50,
        "title": "red line",
        "valueField": "visits",
		"useLineColorForBulletBorder":true
    }],
    "chartScrollbar": {
        "autoGridCount": true,
        "graph": "g1",
        "scrollbarHeight": 40
    },
    "chartCursor": {
        "cursorPosition": "mouse"
    },
    "categoryField": "date",
    "categoryAxis": {
        "parseDates": true,
        "axisColor": "#DADADA",
        "dashLength": 1,
        "minorGridEnabled": true
    },
	"exportConfig":{
	  menuRight: '20px',
      menuBottom: '30px',
      menuItems: [{
      icon: 'http://www.amcharts.com/lib/3/images/export.png',
      format: 'png'	  
      }]  
	}
});

chart.addListener("rendered", zoomChart);
//zoomChart();

// this method is called when chart is first inited as we listen for "dataUpdated" event
function zoomChart() {
    // different zoom methods can be used - zoomToIndexes, zoomToDates, zoomToCategoryValues
    chart.zoomToIndexes(chartData.length - 40, chartData.length - 1);
}


// generate some random data, quite different range
function generateChartData() {
    var chartData = [];
    var firstDate = new Date();
    firstDate.setDate(firstDate.getDate() - 5);

    for (var i = 0; i < 30; i++) {
        // we create date objects here. In your data, you can have date strings
        // and then set format of your dates using chart.dataDateFormat property,
        // however when possible, use date objects, as this will speed up chart rendering.
        var newDate = new Date(firstDate);
        newDate.setDate(newDate.getDate() + i);

        var visits = Math.round(Math.random() * (40 + i / 5)) + 20 + i;

        chartData.push({
            date: newDate,
            visits: visits
        });
    }
    return chartData;
}
window.onload=function(){
	var s = Math.floor((Math.random() * 40) + 10);
	document.getElementById("total-votes").innerHTML = s;
};
</script>